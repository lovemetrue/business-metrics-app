
global:
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞)

# –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤
route:
  # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∞–ª–µ—Ä—Ç—ã –ø–æ –∏–º–µ–Ω–∏ –∏ –º–µ—Ç–∫–∞–º
  group_by: ['alertname', 'cluster']
  
  # –ñ–¥–∞—Ç—å 10 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø—ã
  group_wait: 10s
  
  # –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
  group_interval: 10s
  
  # –ü–æ–≤—Ç–æ—Ä—è—Ç—å –∞–ª–µ—Ä—Ç –∫–∞–∂–¥—ã–µ 1 —á–∞—Å, –µ—Å–ª–∏ –æ–Ω –Ω–µ resolved
  repeat_interval: 1h
  
  # –ü–æ–ª—É—á–∞—Ç–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  receiver: 'web.hook'

route:
  group_by: ['alertname']
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h
  receiver: 'telegram-notifications'

receivers:
  - name: 'telegram-notifications'
    telegram_configs:
      - api_url: 'https://api.telegram.org'
        chat_id: -1763357182  # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π chat_id
        bot_token: '8202698104:AAFcKxctFDbQBPjeDSpG-TmIfKjHKWBv2T8'  # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π token
        parse_mode: 'HTML'
        message: 'üö® <b>{{ .CommonLabels.alertname }}</b>\n\n{{ .CommonAnnotations.summary }}\n\n{{ range .Alerts }}{{ .Annotations.description }}\n{{ end }}'
        
# –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
inhibit_rules:
  - source_match:
      severity: 'critical'
    target_match:
      severity: 'warning'
    equal: ['alertname', 'cluster', 'service']
